import{m as n,i as c,n as d}from"./index.9d88289b.js";var p=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"Home container"},[e.qptiffs.length?[t("h1",{staticClass:"h3 border-bottom mb-4"},[e._v("List of images to process")]),t("div",{staticClass:"row"},e._l(e.qptiffs,function(s){return t("div",{key:s.qptiff,staticClass:"col mb-2"},[t("div",{staticClass:"card text-white bg-dark pointer"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v(" "+e._s(s.sample)+" "),s.CMD?t("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return s.CMD},expression:"() => qptiff.CMD"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-outline-light btn-sm float-right",attrs:{type:"button",title:"Copy Docker CMD"}},[t("v-icon",{attrs:{name:"clipboard",scale:"0.9"}})],1):e._e()]),s.CMD?[t("pre",{staticClass:"code text-light"},[e._v(e._s(s.CMD))]),e._m(0,!0),t("p",{staticClass:"bg-info p-2"},[e._v("Reload the page once the process is finished.")])]:[t("h6",{staticClass:"text-light"},[e._v("List of required parameter files: ")]),t("dl",{staticClass:"row"},[e._l(s.paramFiles,function(r,o){return[t("dt",{key:`dt${o}`,staticClass:"col-4 p-1 text-right"},[e._v(e._s(o))]),t("dd",{key:`dd${o}`,staticClass:"p-1 text-light",class:r===!0?"bg-success col-1":"bg-danger col-5"},[e._v(e._s(r===!0?"VALID":r))]),t("div",{class:r===!0?"col-6":"col-1"})]})],2)]],2)])])}),0)]:e._e(),t("h1",{staticClass:"h3 border-bottom mb-4"},[e._v("List of samples")]),t("div",{staticClass:"row row-cols-1 row-cols-md-2"},e._l(e.samples,function(s){return t("div",{key:s.sample,staticClass:"col mb-2"},[t("div",{staticClass:"card text-white bg-dark pointer",on:{click:function(r){return e.goTo(s)}}},[t("div",{staticClass:"row no-gutters"},[t("div",{staticClass:"col-md-4"},[t("img",{attrs:{src:`${e.iipURL}?FIF=analyses/${s.sample}/sqrt_unmixed_images/image_unmixed.tiff&CTW=[0,1,1,0,1,1,1;0,1,0.8,1,0.5,1,0;1,0,0.9,0,0,1,0]&GAM=2&WID=100&CVT=jpg`,alt:"...",width:"100"}})]),t("div",{staticClass:"col-md-8"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v(e._s(s.sample))]),s.ready?e._e():[s.ready?e._e():t("span",{staticClass:"spinner-border text-center text-warning spinner-border-sm",attrs:{role:"status"}}),t("span",{staticClass:"ml-3 h6 text-warning"},[e._v("indexing in progress...")])]],2)])])])])}),0)],2)},m=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ul",{staticClass:"bg-secondary text-light p-1 pl-4"},[t("li",[e._v("The "),t("code",[e._v("nprocesses")]),e._v(" parameter can be adapted depending on the number of available CPUs. Be aware that the process will also consume more memory.")]),t("li",[e._v("The "),t("code",[e._v("--tmpdir=<TEMPORARY_DIR>")]),e._v(" parameter can be specified. If enough memory is available, "),t("code",[e._v("/dev/shm")]),e._v(" is an option to speed up the process.")])])}];var i;const v={name:"Home",computed:{...n({samples:"samples",qptiffs:"qptiffs"})},data(){return{iipURL:c}},methods:{clipboardSuccessHandler(){this.$snotify.success("Command copied successfully to the clipboard")},goTo(e){e.ready?this.$router.push(`sample/${e.sample}`):this.$snotify.warning("Sample indexing in progress...")},getSamples(){this.$store.dispatch("getSamples").then(e=>{_.findIndex(e,t=>!t.ready)===-1&&i&&clearInterval(i)})}},mounted(){let e=this;this.$store.dispatch("getSamples").then(a=>{_.findIndex(a,s=>!s.ready)>-1?i=setInterval(()=>{e.getSamples()},5e3):i&&clearInterval(i)}),this.$store.dispatch("getQptiffs")},beforeDestroy(){clearInterval(i)}},l={};var u=d(v,p,m,!1,h,"98795234",null,null);function h(e){for(let a in l)this[a]=l[a]}var g=function(){return u.exports}();export{g as default};
